(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-application-equipment_manage-spareParts-sparePartsList-spare_parts_return_add"],{"0839":function(t,e,i){"use strict";i.r(e);var n=i("ea7e"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},"11ca":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* uni.scss */.equipment_check[data-v-d441d45a]{height:calc(100vh - %?150?%);overflow:auto}.uni-input[data-v-d441d45a]{width:calc(100% - %?200?%);float:left;margin:%?3?%}.uni-input .uni-input-placeholder[data-v-d441d45a]{color:#000;font-size:%?32?%;color:#828282;font-weight:400}.device_item_content_textx[data-v-d441d45a]{width:%?100?%;float:left;font-size:%?32?%;color:#828282;font-weight:400}.lf_column_f[data-v-d441d45a]{background-color:#fff;width:calc(100% - %?80?%)!important;border-radius:%?10?%;color:#000;font-size:%?30?%}.lf_column_f uni-text[data-v-d441d45a]{margin:%?10?%}.checkClass[data-v-d441d45a]{width:%?80?%;float:left;line-height:%?220?%;height:100%}.scan_btn[data-v-d441d45a]{position:fixed;bottom:0;left:0;z-index:9999;width:100%;height:%?98?%;line-height:%?98?%;color:#fff;font-size:%?36?%;font-weight:700;text-align:center;background-color:#0871db}.device_item_content_text[data-v-d441d45a]{margin:%?2?% %?4?%!important;font-size:%?32?%;color:#828282;font-weight:400}.device_item_content_text span[data-v-d441d45a]{color:#000}',""]),t.exports=e},"26f6":function(t,e,i){"use strict";var n=i("9faa"),a=i.n(n);a.a},"3afc":function(t,e,i){"use strict";i.r(e);var n=i("a303"),a=i("4e46");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("f9fb");var s,o=i("f0c5"),c=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"007217ff",null,!1,n["a"],s);e["default"]=c.exports},"4a9c":function(t,e,i){var n=i("c3b2");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("6f1edbe4",n,!0,{sourceMap:!1,shadowMode:!1})},"4e46":function(t,e,i){"use strict";i.r(e);var n=i("9e63"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},"7b9c":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.SparePartsApi=void 0;var a=n(i("d4ec")),r=n(i("bee2")),s=n(i("262e")),o=n(i("2caf")),c=i("3909"),u="http://172.16.200.151:8093/meikang/";function l(t){var e=[];for(var i in t)e.push(i+"="+t[i]);return e.join("&")}var f=function(t){(0,s.default)(i,t);var e=(0,o.default)(i);function i(){return(0,a.default)(this,i),e.apply(this,arguments)}return(0,r.default)(i,[{key:"partsPickingGetPartPinking",value:function(t,e,i){var n="partsPicking/getPartPinking?"+l(e);this.publicGet(null,n,u,"POST",i)}},{key:"partsMaterialReturnGetPartsMaterialReturn",value:function(t,e,i){var n="partsMaterialReturn/getPartsMaterialReturn?"+l(e);this.publicGet(null,n,u,"POST",i)}},{key:"partsPickingGetPartPinkingMaterials",value:function(t,e,i){var n="partsPicking/getPartPinkingMaterials?"+l(e);this.publicGet(null,n,u,"POST",i)}},{key:"partsMaterialReturnGetPartsMaterialReturnMaterials",value:function(t,e,i){var n="partsMaterialReturn/getPartsMaterialReturnMaterials?"+l(e);this.publicGet(null,n,u,"POST",i)}},{key:"partsPickingGetAllPartPinkingMaterialsByRelationshipId",value:function(t,e,i){var n="partsPicking/getAllPartPinkingMaterialsByRelationshipId?"+l(e);this.publicGet(null,n,u,"POST",i)}},{key:"partsPickingRemovePartPinking",value:function(t,e,i){var n="partsPicking/removePartPinking?"+l(e);this.publicGet(null,n,u,"POST",i)}},{key:"partsMaterialReturnRemovePartsMaterialReturn",value:function(t,e,i){var n="partsMaterialReturn/removePartsMaterialReturn?"+l(e);this.publicGet(null,n,u,"POST",i)}},{key:"sapInteractControllerGetDevicePartByDevicePriCode",value:function(t,e,i){var n="sapInteractController/getDevicePartByDevicePriCode?"+l(e);this.publicGet(null,n,u,"POST",i)}},{key:"partsPickingCreatePartPinking",value:function(t,e,i){var n="partsPicking/createPartPinking";this.publicGet(t,n,u,"POST",i)}},{key:"partsMaterialReturnCreatePartsMaterialReturn",value:function(t,e,i){var n="partsMaterialReturn/createPartsMaterialReturn";this.publicGet(t,n,u,"POST",i)}}]),i}(c.Request);e.SparePartsApi=f},"9e63":function(t,e,i){"use strict";i("c975"),i("a9e3"),i("b64b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"u-toast",props:{zIndex:{type:[Number,String],default:""}},data:function(){return{isShow:!1,timer:null,config:{params:{},title:"",type:"",duration:2e3,isTab:!1,url:"",icon:!0,position:"center",callback:null,back:!1},tmpConfig:{}}},computed:{iconName:function(){if(["error","warning","success","info"].indexOf(this.tmpConfig.type)>=0&&this.tmpConfig.icon){var t=this.$u.type2icon(this.tmpConfig.type);return t}},uZIndex:function(){return this.isShow?this.zIndex?this.zIndex:this.$u.zIndex.toast:"999999"}},methods:{show:function(t){var e=this;this.tmpConfig=this.$u.deepMerge(this.config,t),this.timer&&(clearTimeout(this.timer),this.timer=null),this.isShow=!0,this.timer=setTimeout((function(){e.isShow=!1,clearTimeout(e.timer),e.timer=null,"function"===typeof e.tmpConfig.callback&&e.tmpConfig.callback(),e.timeEnd()}),this.tmpConfig.duration)},hide:function(){this.isShow=!1,this.timer&&(clearTimeout(this.timer),this.timer=null)},timeEnd:function(){if(this.tmpConfig.url){if("/"!=this.tmpConfig.url[0]&&(this.tmpConfig.url="/"+this.tmpConfig.url),Object.keys(this.tmpConfig.params).length){var t="";/.*\/.*\?.*=.*/.test(this.tmpConfig.url)?(t=this.$u.queryParams(this.tmpConfig.params,!1),this.tmpConfig.url=this.tmpConfig.url+"&"+t):(t=this.$u.queryParams(this.tmpConfig.params),this.tmpConfig.url+=t)}this.tmpConfig.isTab?uni.switchTab({url:this.tmpConfig.url}):uni.navigateTo({url:this.tmpConfig.url})}else this.tmpConfig.back&&this.$u.route({type:"back"})}}};e.default=n},"9faa":function(t,e,i){var n=i("11ca");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("46ad3e96",n,!0,{sourceMap:!1,shadowMode:!1})},a303:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var n={uIcon:i("d7b2").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"u-toast",class:[t.isShow?"u-show":"","u-type-"+t.tmpConfig.type,"u-position-"+t.tmpConfig.position],style:{zIndex:t.uZIndex}},[i("v-uni-view",{staticClass:"u-icon-wrap"},[t.tmpConfig.icon?i("u-icon",{staticClass:"u-icon",attrs:{name:t.iconName,size:30,color:t.tmpConfig.type}}):t._e()],1),i("v-uni-text",{staticClass:"u-text"},[t._v(t._s(t.tmpConfig.title))])],1)},r=[]},abc5:function(t,e,i){"use strict";i.r(e);var n=i("ebbb"),a=i("0839");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("26f6");var s,o=i("f0c5"),c=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"d441d45a",null,!1,n["a"],s);e["default"]=c.exports},c3b2:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* uni.scss */.u-toast[data-v-007217ff]{position:fixed;z-index:-1;transition:opacity .3s;text-align:center;color:#fff;border-radius:%?8?%;background:#585858;\ndisplay:flex;flex-direction:row;\nalign-items:center;justify-content:center;font-size:%?28?%;opacity:0;pointer-events:none;padding:%?18?% %?40?%}.u-toast.u-show[data-v-007217ff]{opacity:1}.u-icon[data-v-007217ff]{margin-right:%?10?%;\ndisplay:flex;flex-direction:row;\nalign-items:center;line-height:normal}.u-position-center[data-v-007217ff]{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);max-width:70%}.u-position-top[data-v-007217ff]{left:50%;top:20%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.u-position-bottom[data-v-007217ff]{left:50%;bottom:20%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.u-type-primary[data-v-007217ff]{color:#2979ff;background-color:#ecf5ff;border:1px solid #d7eafe}.u-type-success[data-v-007217ff]{color:#19be6b;background-color:#dbf1e1;border:1px solid #bef5c8}.u-type-error[data-v-007217ff]{color:#fa3534;background-color:#fef0f0;border:1px solid #fde2e2}.u-type-warning[data-v-007217ff]{color:#f90;background-color:#fdf6ec;border:1px solid #faecd8}.u-type-info[data-v-007217ff]{color:#909399;background-color:#f4f4f5;border:1px solid #ebeef5}.u-type-default[data-v-007217ff]{color:#fff;background-color:#585858}',""]),t.exports=e},ea7e:function(t,e,i){"use strict";var n=i("4ea4");i("d81d"),i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("b14e")),r=i("7b9c"),s=new r.SparePartsApi,o={components:{navbarItem:a.default},data:function(){return{topHeight:0,tabsList:[{id:0,name:"领料单"},{id:1,name:"退料单"},{id:2,name:"库存"}],current:0,popShow:!1,list:[],workshopData:{},typeData:[],lists:[],kkee:!1}},onLoad:function(){},onShow:function(){this.showData()},computed:{themeColor:function(){return this.$store.state.config.lfColorConfig.themeColor},swiperHeight:function(){return uni.getSystemInfoSync().windowHeight+"px"}},methods:{changeChecked:function(t){this.lists[t].checked=!this.lists[t].checked},getNavBarHeight:function(t){this.topHeight=t.topH},tabChangeWay:function(t){this.current=t},swiperChange:function(t){console.log(t.detail.current),this.current=t.detail.current},rightWay:function(){0===this.current||this.current},determineWay:function(t){this.$refs.mescrollItemRef[0].updataWay(t),this.$refs.mescrollItemRef[1].updataWay(t)},getTabsNumWay:function(t){this.tabsList[0].count=t.unFinishCount,this.tabsList[1].count=t.finishCount},errorWay:function(t){"4004"===t.code&&this.common.toastWarningWay("当前为空挡时间，无点检信息",this,"center")},showData:function(){var t=this,e=0,i=0;1===this.$store.state.materialMkis?(i=1,e=this.$store.state.materialRepair.repairTaskId):(i=2,e=this.$store.state.materialMaintance.maintainId);var n={relationshipId:e,relationshipType:i};s.partsPickingGetAllPartPinkingMaterialsByRelationshipId(null,n,(function(e){"0000"===e.code?t.lists=e.rows.map((function(t,e){return t.checked=!1,t})):(t.mescroll.endErr(),t.$emit("errorWay",e))}))},scanCodeWay:function(t){var e=this,i="",n=0,a=0;1===this.$store.state.materialMkis?(a=1,i=this.$store.state.materialRepair.deviceCode,n=this.$store.state.materialRepair.repairTaskId):(a=2,i=this.$store.state.materialMaintance.deviceCode,n=this.$store.state.materialMaintance.maintainId);var r={deviceCode:i,partsMaterialReturnMaterialsList:[],relationshipId:n,relationshipType:a,remark:""};console.log(this.lists);for(var o=[],c=0;c<this.lists.length;c++)this.lists[c].checked&&this.lists[c].returnCount&&!isNaN(Number(this.lists[c].returnCount))&&Number(this.lists[c].returnCount)>0&&Number(this.lists[c].returnCount)<=Number(this.lists[c].realCount)&&o.push(this.lists[c]);if(0===o.length)return this.common.toastWarningWay("请检查数据是否超出上限或填入不可用数据",this,"center"),!1;r.partsMaterialReturnMaterialsList=o,s.partsMaterialReturnCreatePartsMaterialReturn(r,{},(function(t){"0000"===t.code?(e.common.toastNormalSuccessWay("操作成功",e,"center"),setTimeout((function(){uni.navigateBack({delta:1})}),500)):(e.mescroll.endErr(),e.$emit("errorWay",t))}))}}};e.default=o},ebbb:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var n={uToast:i("3afc").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"equipment_check"},[i("navbar-item",{attrs:{title:"新增退料单",rightShow:!1}}),t._l(t.lists,(function(e,n){return i("v-uni-view",{key:n,staticStyle:{margin:"20rpx 20rpx 0rpx 10rpx"}},[i("v-uni-view",{staticClass:"checkClass"},[i("v-uni-checkbox",{attrs:{checked:e.checked},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeChecked(n)}}})],1),i("v-uni-view",{staticClass:"lf_column_f",staticStyle:{width:"calc(100% - 200rpx)","margin-left":"20rpx"}},[i("v-uni-text",{staticClass:"device_item_content_text"},[t._v(t._s(t.$t("备件编码"))+"："),i("span",[t._v(t._s(e.materialsCode))])]),i("v-uni-text",{staticClass:"device_item_content_text"},[t._v(t._s(t.$t("备件名称"))+"："),i("span",[t._v(t._s(e.materialsName))])]),i("v-uni-text",{staticClass:"device_item_content_text"},[t._v(t._s(t.$t("规格型号"))+"："),i("span",[t._v(t._s(e.specifications))])]),i("v-uni-text",{staticClass:"device_item_content_text"},[t._v(t._s(t.$t("批次"))+"："),i("span",[t._v(t._s(e.sapBatch))])]),i("v-uni-text",{staticClass:"device_item_content_text"},[t._v(t._s(t.$t("库位"))+"："),i("span",[t._v(t._s(e.position))])]),i("v-uni-text",{staticClass:"device_item_content_text"},[t._v(t._s(t.$t("已申请数量"))+"："),i("span",[t._v(t._s(e.realCount))])]),i("v-uni-view",[i("v-uni-view",[i("v-uni-text",{staticClass:"device_item_content_textx"},[t._v(t._s(t.$t("数量"))+"：")])],1),i("v-uni-view",[i("v-uni-input",{staticClass:"uni-input",attrs:{type:"number","confirm-type":"search",placeholder:"输入数量"},model:{value:e.returnCount,callback:function(i){t.$set(e,"returnCount",i)},expression:"item.returnCount"}})],1)],1)],1)],1)})),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:0===t.current,expression:"current === 0"}],staticClass:"scan_btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.scanCodeWay.apply(void 0,arguments)}}},[t._v("提交")]),i("u-toast",{ref:"uToast"})],2)},r=[]},f9fb:function(t,e,i){"use strict";var n=i("4a9c"),a=i.n(n);a.a}}]);