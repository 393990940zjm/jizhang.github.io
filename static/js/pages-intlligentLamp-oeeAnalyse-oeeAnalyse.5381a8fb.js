(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-intlligentLamp-oeeAnalyse-oeeAnalyse"],{"0248":function(e,t,a){"use strict";a.r(t);var i=a("418d"),r=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=r.a},"0a18":function(e,t,a){"use strict";a.r(t);var i=a("6b32"),r=a("eca9");for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);a("40a4");var o,s=a("f0c5"),c=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"79af0af0",null,!1,i["a"],o);t["default"]=c.exports},"0bf1":function(e,t,a){var i=a("c01e2");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=a("4f06").default;r("f9bf090e",i,!0,{sourceMap:!1,shadowMode:!1})},"0bf9":function(e,t,a){var i=a("5456");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=a("4f06").default;r("c6316580",i,!0,{sourceMap:!1,shadowMode:!1})},"15cd":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".uni-form-item .unipicker[data-v-3fa77886]{margin:%?15?%;background:#d0eaf5;height:%?50?%!important;padding:%?10?%!important;text-align:center;border-radius:%?10?%}.uni-form-item .unipickerText[data-v-3fa77886]{font-weight:700}",""]),e.exports=t},1612:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{unit:String,id:{type:String,default:""},echartData:{type:Object,defatult:function(){return{}}}},data:function(){return{}},computed:{option:function(){var e={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:"valueFunc"},legend:{},grid:{top:"10%",left:"3%",right:"4%",bottom:"15%",containLabel:!0},dataZoom:[{type:"inside",start:30,end:60},{height:30,bottom:"3%",type:"slider",start:30,end:60,filterMode:"weakFilter",show:!0}],xAxis:[{type:"category",data:[]}],yAxis:[{type:"value"}],series:[{name:"绿灯",type:"bar",stack:"Ad",itemStyle:{normal:{color:"#47cf4d"}},emphasis:{focus:"series"},data:[]},{name:"黄灯",type:"bar",stack:"Ad",itemStyle:{normal:{color:"#f39800"}},emphasis:{focus:"series"},data:[]},{name:"红灯",type:"bar",stack:"Ad",itemStyle:{normal:{color:"#ff0000"}},emphasis:{focus:"series"},data:[]},{name:"关机",type:"bar",stack:"Ad",itemStyle:{normal:{color:"#666666"}},emphasis:{focus:"series"},data:[]}]};return e.series[0].data=this.echartData.runArr,e.series[1].data=this.echartData.freeArr,e.series[2].data=this.echartData.warnArr,e.series[3].data=this.echartData.noLineArr,e.xAxis[0].data=this.echartData.xValue,e}},onLoad:function(){},methods:{onEmitclick:function(e){this.$emit("clikDevice",e.deviceName)}}};t.default=i},"1d5b":function(e,t,a){var i=a("15cd");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=a("4f06").default;r("1a6eae98",i,!0,{sourceMap:!1,shadowMode:!1})},"1fb2":function(e,t,a){"use strict";a("99af"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a("d25d"),r=new i.LampApi,n={data:function(){return{groupArray:[{id:1,name:"全部"}],index:0}},created:function(){this.getGroup()},methods:{groupArrayType:function(e){this.index=e.target.value,this.$emit("changeGroup",this.groupArray[this.index].id)},getGroup:function(){var e=this;r.getListGroupAndProductionLine({},(function(t){"0000"===t.code&&(e.groupArray=e.groupArray.concat(t.rows))}))}}};t.default=n},"20ea":function(e,t,a){var i=a("334f");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=a("4f06").default;r("1704c0d5",i,!0,{sourceMap:!1,shadowMode:!1})},"2b6a":function(e,t,a){"use strict";var i=a("4ea4");a("7db0"),a("4160"),a("a9e3"),a("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("f1e2")),n=i(a("0a18")),o=i(a("57a2")),s=i(a("6a71")),c=i(a("fccf")),u=i(a("59cd")),d=a("d25d"),l=a("2b97"),f=new d.LampApi,h={components:{oeeBar:s.default,oeeBar2:c.default,topTime:r.default,timePicker:n.default,groupSelet:o.default,gatt:u.default},data:function(){return{groupList:[{name:"全部",id:1},{name:"五金车间",id:1},{name:"注塑车间",id:1},{name:"橡胶车间",id:1}],loading:!1,groupId:0,current:1,chooseStartTime:"",chooseEndTime:"",hourTimeArr:["",""],dayTimeArr:["",""],monthTimeArr:["",""],timeData:["",""],deviceOee:{oeeData:[],runArr:[],freeArr:[],noLineArr:[],warnArr:[],xValue:[]},detailDeviceOee:{oeeData:[],runArr:[],freeArr:[],noLineArr:[],warnArr:[],xValue:[]},currentDevice:"",showDevice:!1}},computed:{timeType:function(){switch(this.current){case 0:return"2";case 1:return"3";case 2:return"4";default:return""}}},onLoad:function(){this.initTimeData(),this.getOee()},methods:{selectTime:function(){this.$refs.timeSelectRef.open()},confirmWay:function(e){switch(this.resetChart(),this.timeData[0]=e.startTime,this.timeData[1]=e.endTime,this.chooseStartTime=e.startTime,this.chooseEndTime=e.endTime,this.getOee(),this.current){case 0:this.$refs.mescrollItemRef[0].updataWay();break;case 1:this.$refs.mescrollItemRef[1].updataWay();break;case 2:this.$refs.mescrollItemRef[2].updataWay();break;default:break}},initTimeData:function(){var e=(0,l.getCurrentTimeArr)();(0,l.getDaysOfMonth)(e[0],e[1]);this.dayTimeArr[0]=(0,l.toCurrentYMDDate)(0),this.dayTimeArr[1]=(0,l.toCurrentYMDDate)(0),this.getTimeDateWay()},getTimeDateWay:function(){var e=[];switch(this.current){case 0:e=this.hourTimeArr;break;case 1:e=this.dayTimeArr;break;case 2:e=this.monthTimeArr;break;default:break}this.timeData=e,this.chooseStartTime=e[0],this.chooseEndTime=e[1]},resetChart:function(){for(var e in this.deviceOee)this.deviceOee[e]=[];for(var t in this.detailDeviceOee)this.detailDeviceOee[t]=[]},changeGroup:function(e){this.resetChart(),this.groupId=e,this.getOee()},getOee:function(){var e=this;this.loading=!1,uni.showLoading({title:"加载中..."});var t={startTime:this.dayTimeArr[0]+" 00:00:00",endTime:this.dayTimeArr[1]+" 23:59:59"};this.groupId&&(t.groupId=this.groupId),f.listDeviceOee(t,(function(t){if("0000"===t.code){e.loading=!0,uni.hideLoading(),e.oeeData=t.rows,console.log(e.oeeData);for(var a=0;a<e.oeeData.length;a++)e.deviceOee.runArr.push(Number((100*e.oeeData[a].runRate).toFixed(2))),e.deviceOee.freeArr.push(Number((100*e.oeeData[a].freeRate).toFixed(2))),e.deviceOee.noLineArr.push(Number((100*e.oeeData[a].offlineRate).toFixed(2))),e.deviceOee.warnArr.push(Number((100*e.oeeData[a].warnRate).toFixed(2))),e.deviceOee.xValue.push(e.oeeData[a].deviceName)}}))},clikDevice:function(e){var t,a=this;this.showDevice=!0,this.currentDevice=e;var i=null===(t=this.oeeData.find((function(t){return t.deviceName===e})))||void 0===t?void 0:t.deviceCode;for(var r in this.detailDeviceOee)this.detailDeviceOee[r]=[];f.listDetailDeviceOee({deviceCode:i,startTime:this.dayTimeArr[0]+" 00:00:00",endTime:this.dayTimeArr[1]+" 23:59:59"},(function(e){"0000"===e.code&&e.rows.forEach((function(e){a.detailDeviceOee.runArr.push((100*e.runRate).toFixed(2)),a.detailDeviceOee.freeArr.push((100*e.freeRate).toFixed(2)),a.detailDeviceOee.noLineArr.push((100*e.offlineRate).toFixed(2)),a.detailDeviceOee.warnArr.push((100*e.warnRate).toFixed(2)),a.detailDeviceOee.xValue.push(e.startTime.substring(0,10))}))}))}}};t.default=h},"334f":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".content[data-v-45c9be5a]{display:flex;flex-direction:column;align-items:center;justify-content:center}.echarts[data-v-45c9be5a]{width:100%;height:100%}",""]),e.exports=t},"37f3":function(e,t,a){"use strict";var i=a("1d5b"),r=a.n(i);r.a},"40a4":function(e,t,a){"use strict";var i=a("0bf9"),r=a.n(i);r.a},"418d":function(e,t,a){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={mounted:function(){if("function"===typeof window.echarts)this.initEcharts();else{var e=document.createElement("script");e.src="static/echarts.js",e.onload=this.initEcharts.bind(this),document.head.appendChild(e)}},methods:{initEcharts:function(){i=echarts.init(document.getElementById(this.$ownerInstance.$vm._props.id)),this.update(this.option)},updateEcharts:function(e,t,a,r){i&&this.update(this.option)},update:function(e){var t=this;i&&(e&&(e.tooltip.formatter=this.valueFunc,e.series),i.off("click"),i.setOption(e,!0),i.on("click",(function(e){t.$ownerInstance.callMethod("onEmitclick",{deviceName:e.name})})))},valueFunc:function(e){for(var t=e[0].name,a=0;a<e.length;a++)t+="</br>"+e[a].marker+e[a].seriesName+"："+e[a].data+" %";return t}}};t.default=r},4599:function(e,t,a){"use strict";a.r(t);var i=a("1612"),r=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=r.a},"4d05":function(e,t,a){"use strict";var i=a("20ea"),r=a.n(i);r.a},5263:function(e,t,a){"use strict";a.r(t);var i=a("2b6a"),r=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=r.a},5456:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* uni.scss */.time_view_area[data-v-79af0af0]{justify-content:space-between;padding:%?28?% %?27?%}.time_view_area .time_area[data-v-79af0af0]{width:%?280?%;height:%?80?%;box-sizing:border-box;border-radius:%?10?%;font-size:%?24?%}.time_view_area .time_area_normal[data-v-79af0af0]{border:%?2?% solid #0871db;color:#0871db}.time_view_area .time_area_active[data-v-79af0af0]{color:#fff;background-color:#0871db}.time_cancal_area[data-v-79af0af0]{margin-bottom:%?20?%;padding:0 %?27?%;justify-content:space-between}.time_cancal_area uni-text[data-v-79af0af0]:nth-child(1){color:#828282;padding:%?20?% %?20?% %?20?% 0}.time_cancal_area uni-text[data-v-79af0af0]:nth-child(2){padding:%?20?% %?20?% 0 %?20?%}.time_select_area[data-v-79af0af0]{flex:1}.time_select_area .item[data-v-79af0af0]{height:%?68?%;line-height:%?68?%;text-align:center}',""]),e.exports=t},"54d1":function(e,t,a){"use strict";var i=a("ae8a"),r=a.n(i);r.a},"54ff":function(e,t,a){"use strict";a.r(t);var i=a("6704"),r=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=r.a},"57a2":function(e,t,a){"use strict";a.r(t);var i=a("f1fe"),r=a("6d8e");for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);a("37f3");var o,s=a("f0c5"),c=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"3fa77886",null,!1,i["a"],o);t["default"]=c.exports},"59cd":function(e,t,a){"use strict";a.r(t);var i=a("f147"),r=a("8533");for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);var o=a("54ff");for(var n in o)"default"!==n&&function(e){a.d(t,e,(function(){return o[e]}))}(n);a("54d1");var s=a("f0c5");r["default"].__module="echarts";var c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"065d31d2",null,!1,i["a"],r["default"]);t["default"]=c.exports},6254:function(e,t,a){var i=a("6ccd");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=a("4f06").default;r("11a7c23a",i,!0,{sourceMap:!1,shadowMode:!1})},6704:function(e,t,a){"use strict";a("4160"),a("a434"),a("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{unit:String,data:{type:Object,defatult:function(){return{inner:[],outter:[],innerData:[]}}},chartData:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{option:function(){for(var e=[{data:[]},{data:[]},{data:[]},{data:[]}],t=0;t<this.chartData.length;t++){var a={name:this.chartData[t].state-1,value:[0,this.chartData[t].startTime,this.chartData[t].endTime]};e[this.chartData[t].state-1].data.push(a)}return console.log("我要好好看看你",e,this.chartData),{tooltip:{formatter:"tooltipFunc"},dataZoom:[{type:"slider",filterMode:"weakFilter",top:"bottom",show:!1},{type:"inside",filterMode:"weakFilter",show:!1}],grid:{containLabel:!0,top:10,bottom:10,left:"5%",right:"5%"},xAxis:{type:"time",axisLabel:{formatter:"xAxisFunc"}},yAxis:{data:[]},series:[{name:"运行",type:"custom",renderItem:"renderRect",color:"#47cf4d",encode:{x:[1,2],y:0},data:e[0].data},{name:"空闲",type:"custom",renderItem:"renderRect",color:"#f39800",encode:{x:[1,2],y:0},data:e[1].data},{name:"离线",type:"custom",renderItem:"renderRect",color:"#666666",encode:{x:[1,2],y:0},data:e[2].data},{name:"告警",type:"custom",renderItem:"renderRect",color:"#ff0000",encode:{x:[1,2],y:0},data:e[3].data}]}}},onLoad:function(){},methods:{changeOption:function(){var e=this.option.series[0].data;e.forEach((function(t,a){e.splice(a,1,40*Math.random())}))},onViewClick:function(e){console.log(e)}}};t.default=i},"6a71":function(e,t,a){"use strict";a.r(t);var i=a("a25a"),r=a("0248");for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);var o=a("4599");for(var n in o)"default"!==n&&function(e){a.d(t,e,(function(){return o[e]}))}(n);a("e12d");var s=a("f0c5");r["default"].__module="echarts";var c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"60e539b2",null,!1,i["a"],r["default"]);t["default"]=c.exports},"6b32":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i}));var i={uPopup:a("ca14").default,uToast:a("3afc").default},r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("u-popup",{attrs:{"border-radius":"10",height:e.height,mode:e.mode,duration:e.duration,"mask-custom-style":e.maskCustomStyle},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("v-uni-view",{staticClass:"lf_column_f",staticStyle:{height:"100%"}},[a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.multiSelect,expression:"multiSelect"}],staticClass:"time_view_area lf_row_a_f"},[a("v-uni-view",{staticClass:"time_area lf_row_a_j_f",class:"1"==e.typeDate?"time_area_active":"time_area_normal",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toggleViewArea("1")}}},[e._v(e._s(e.chooseStartDate?e.chooseStartDate:"")+" 开始")]),a("v-uni-view",{style:{backgroundColor:e.themeColor,height:"2rpx",margin:"0 27rpx",flex:"1"}}),a("v-uni-view",{staticClass:"time_area lf_row_a_j_f",class:"2"==e.typeDate?"time_area_active":"time_area_normal",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toggleViewArea("2")}}},[e._v(e._s(e.chooseEndDate?e.chooseEndDate:"")+" 结束")])],1),a("v-uni-view",{staticClass:"time_cancal_area lf_row_a_f"},[a("v-uni-text",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancel.apply(void 0,arguments)}}},[e._v("取消")]),a("v-uni-text",{style:{color:e.themeColor},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm.apply(void 0,arguments)}}},[e._v("确定")])],1),a("v-uni-view",{staticClass:"time_select_area"},[a("v-uni-picker-view",{staticStyle:{width:"100%",height:"100%"},attrs:{"indicator-style":e.indicatorStyle,value:e.pickerValue},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindChange.apply(void 0,arguments)}}},[a("v-uni-picker-view-column",e._l(e.years,(function(t,i){return a("v-uni-view",{key:i,staticClass:"item"},[e._v(e._s(t)+"年")])})),1),a("v-uni-picker-view-column",e._l(e.months,(function(t,i){return a("v-uni-view",{key:i,staticClass:"item"},[e._v(e._s(t)+"月")])})),1),a("v-uni-picker-view-column",{directives:[{name:"show",rawName:"v-show",value:"4"!=e.timeType,expression:"timeType != '4'"}]},e._l(e.days,(function(t,i){return a("v-uni-view",{key:i,staticClass:"item"},[e._v(e._s(t)+"日")])})),1),a("v-uni-picker-view-column",{directives:[{name:"show",rawName:"v-show",value:"1"==e.timeType||"2"==e.timeType,expression:"timeType == '1' || timeType == '2'"}]},e._l(e.hours,(function(t,i){return a("v-uni-view",{key:i,staticClass:"item"},[e._v(e._s(t)+"时")])})),1),a("v-uni-picker-view-column",{directives:[{name:"show",rawName:"v-show",value:"1"==e.timeType,expression:"timeType == '1'"}]},e._l(e.minutes,(function(t,i){return a("v-uni-view",{key:i,staticClass:"item"},[e._v(e._s(t)+"分")])})),1)],1)],1)],1),a("u-toast",{ref:"uToast"})],1)},n=[]},"6ccd":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,"*[data-v-43d21117]{box-sizing:border-box}.groupView .groupBtnView[data-v-43d21117]{color:#999;margin:%?30?% %?30?%;font-size:%?30?%;display:inline-block}.groupView .groupBtnView[data-v-43d21117]:nth-child(1){font-weight:700;color:#000}.echartsView[data-v-43d21117]{margin:%?10?%}.echartsView .itemEcharts[data-v-43d21117]{background:#fff;border-radius:%?10?%;margin-bottom:%?20?%}.echartsTitle[data-v-43d21117]{color:#999;padding-top:%?30?%;padding-left:%?30?%;font-size:%?30?%}.echartsClass[data-v-43d21117]{height:%?600?%}.titleView[data-v-43d21117]{margin-left:%?20?%;font-size:%?30?%}.loading[data-v-43d21117]{text-align:center}",""]),e.exports=t},"6d8e":function(e,t,a){"use strict";a.r(t);var i=a("1fb2"),r=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=r.a},"70a0":function(e,t,a){"use strict";a.r(t);var i=a("e9ef"),r=a("5263");for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);a("dd8a");var o,s=a("f0c5"),c=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"43d21117",null,!1,i["a"],o);t["default"]=c.exports},"75ec":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".content[data-v-065d31d2]{display:flex;flex-direction:column;align-items:center;justify-content:center}.echarts[data-v-065d31d2]{width:100%;height:%?400?%}",""]),e.exports=t},"7f29":function(e,t,a){"use strict";a("a9e3"),a("e25e"),a("ac1f"),a("5319"),a("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a("2b97"),r={props:{multiSelect:{type:Boolean,default:!0},timeType:{type:String,default:""},mode:{type:String,default:"bottom"},height:{type:[Number,String],default:"600"},duration:{type:[Number,String],default:200},separated:{type:String,default:"-"},startEndDate:{type:Array,default:function(){return[]}},maskCustomStyle:{type:Object,default:function(){return{background:"rgba(0, 0, 0, 0.3)"}}}},data:function(){for(var e=new Date,t=[],a=e.getFullYear(),i=[],r=e.getMonth()+1,n=e.getDate(),o=[],s=e.getHours(),c=[],u=e.getMinutes(),d=1990;d<=e.getFullYear()+50;d++)t.push(d);for(var l=1;l<=12;l++){var f=l<10?"0"+l:l;i.push(f)}for(var h=0;h<=23;h++){var v=h<10?"0"+h:h;o.push(v)}for(var p=0;p<=59;p++){var m=p<10?"0"+p:p;c.push(m)}return{changeNum:0,chooseValues:[0,0,0,0,0],visible:!1,current:0,chooseStartDate:"",chooseEndDate:"",typeDate:"1",years:t,year:a,months:i,month:r,day:n,hours:o,hour:s,minutes:c,minute:u}},watch:{startEndDate:{handler:function(e){this.changeNum+=1,this.chooseStartDate=e[0],this.chooseEndDate=e[1]},immediate:!0}},computed:{themeColor:function(){return this.$store.state.config.lfColorConfig.themeColor},indicatorStyle:function(){return"height: 68rpx;"},pickerValue:function(){var e=[0,0,0,0,0];if(0==this.changeNum)e=this.chooseValues;else{var t="1"==this.typeDate?this.chooseStartDate:this.chooseEndDate;switch(this.timeType){case"1":var a=t.replace(/\-/g,"/"),r=(0,i.toTimeStamp)(a),n=(0,i.timestampToDateArr)(r);e=[n[0]-1990,n[1]-1,n[2]-1,n[3],n[4]];break;case"2":var o=t.replace(/\-/g,"/"),s=(0,i.toTimeStamp)(o),c=(0,i.timestampToDateArr)(s);e=[c[0]-1990,c[1]-1,c[2]-1,c[3],0];break;case"3":var u=t.split("-");e=[parseInt(u[0])-1990,parseInt(u[1])-1,parseInt(u[2])-1,0,0];break;case"4":var d=t.split("-");e=[parseInt(d[0])-1990,parseInt(d[1])-1,0,0,0];break;default:break}}return e},days:function(){for(var e=(0,i.getDaysOfMonth)(this.year,parseInt(this.month)),t=[],a=0;a<e;a++){var r=a+1,n=r<10?"0"+r:r;t.push(n)}return t}},methods:{initTimeData:function(){this.changeNum+=1,"2"==this.timeType?(this.chooseStartDate=(0,i.getCurrentTimeWay)(4)+" 00:00",this.chooseEndDate=(0,i.getCurrentTimeWay)(4)+" 23:00"):"3"==this.timeType?(this.chooseStartDate=(0,i.getCurrentTimeWay)(5)+this.separated+"01",this.chooseEndDate=(0,i.getCurrentTimeWay)(5)+this.separated+this.days.length):"4"==this.timeType&&(this.chooseStartDate=(0,i.getCurrentTimeWay)(6)+this.separated+"01",this.chooseEndDate=(0,i.getCurrentTimeWay)(6)+this.separated+"12"),console.log(this.chooseStartDate),console.log(this.chooseEndDate)},getPickerValue:function(e){if("2"==this.timeType)e.split(this.separated);else this.timeType},toggleViewArea:function(e){this.typeDate=e},resetPickerDate:function(){this.typeDate="1"},open:function(){this.visible=!0,console.log(this.days)},close:function(){this.visible=!1},cancel:function(){this.close()},confirm:function(){var e={},t=this.chooseStartDate.replace(/\-/g,"/"),a=this.chooseEndDate.replace(/\-/g,"/"),r=(0,i.toTimeStamp)(t),n=(0,i.toTimeStamp)(a);if(this.multiSelect&&r>n)return this.common.toastWarningWay("开始时间不能大于结束时间",this),void this.initTimeData();e.startTime=this.chooseStartDate,e.endTime=this.chooseEndDate,this.resetPickerDate(),this.$emit("confirm",e),this.close()},bindChange:function(e){this.changeNum+=1,this.chooseValues=e;var t=e.detail.value;this.year=this.years[t[0]],this.month=this.months[t[1]],this.day=this.days[t[2]],this.hour=this.hours[t[3]],this.minute=this.minutes[t[4]];var a="";switch(this.timeType){case"1":a=this.year+this.separated+this.month+this.separated+this.day+" "+this.hour+":"+this.minute;break;case"2":var i="1"===this.typeDate?":00":":59";a=this.year+this.separated+this.month+this.separated+this.day+" "+this.hour+i;break;case"3":a=this.year+this.separated+this.month+this.separated+this.day;break;case"4":a=this.year+this.separated+this.month;break;default:break}"1"===this.typeDate?this.chooseStartDate=a:this.chooseEndDate=a}}};t.default=r},8533:function(e,t,a){"use strict";a.r(t);var i=a("90c0"),r=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=r.a},8818:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{unit:String,id:{type:String,default:""},echartData:{type:Object,defatult:function(){return{}}}},data:function(){return{}},computed:{option:function(){var e={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:"valueFunc"},legend:{},grid:{top:"10%",left:"3%",right:"4%",bottom:"10%",containLabel:!0},dataZoom:[{height:20,bottom:"3%",type:"slider",start:30,end:60,filterMode:"weakFilter",show:!0}],xAxis:[{type:"category",data:[]}],yAxis:[{type:"value"}],series:[{name:"绿灯",type:"bar",stack:"Ad",itemStyle:{normal:{color:"#47cf4d"}},emphasis:{focus:"series"},data:[]},{name:"黄灯",type:"bar",stack:"Ad",itemStyle:{normal:{color:"#f39800"}},emphasis:{focus:"series"},data:[]},{name:"红灯",type:"bar",stack:"Ad",itemStyle:{normal:{color:"#ff0000"}},emphasis:{focus:"series"},data:[]},{name:"关机",type:"bar",stack:"Ad",itemStyle:{normal:{color:"#666666"}},emphasis:{focus:"series"},data:[]}]};return e.series[0].data=this.echartData.runArr,e.series[1].data=this.echartData.freeArr,e.series[2].data=this.echartData.warnArr,e.series[3].data=this.echartData.noLineArr,e.xAxis[0].data=this.echartData.xValue,e}},onLoad:function(){},methods:{onEmitclick:function(e){this.$emit("clikDevice",e.deviceName)}}};t.default=i},"888c":function(e,t,a){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={mounted:function(){if("function"===typeof window.echarts)this.initEcharts();else{var e=document.createElement("script");e.src="static/echarts.js",e.onload=this.initEcharts.bind(this),document.head.appendChild(e)}},methods:{initEcharts:function(){i=echarts.init(document.getElementById(this.$ownerInstance.$vm._props.id)),this.update(this.option)},updateEcharts:function(e,t,a,r){i&&this.update(this.option)},update:function(e){var t=this;i&&(e&&(e.tooltip.formatter=this.valueFunc,e.series),i.off("click"),i.setOption(e,!0),i.on("click",(function(e){t.$ownerInstance.callMethod("onEmitclick",{deviceName:e.name})})))},valueFunc:function(e){for(var t=e[0].name,a=0;a<e.length;a++)t+="</br>"+e[a].marker+e[a].seriesName+"："+e[a].data+" %";return t}}};t.default=r},"90c0":function(e,t,a){"use strict";a("99af"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=a("2b97"),n={mounted:function(){if("function"===typeof window.echarts)this.initEcharts();else{var e=document.createElement("script");e.src="static/echarts.js",e.onload=this.initEcharts.bind(this),document.head.appendChild(e)}},methods:{initEcharts:function(){console.log("我还是来了"),i=echarts.init(document.getElementById("echarts")),this.update(this.option)},updateEcharts:function(e,t,a,r){console.log("我要来不",e),i&&this.update(this.option)},update:function(e){i&&(e&&(e.tooltip.formatter=this.tooltipFunc,e.xAxis.axisLabel.formatter=this.xAxisFunc,e.series&&(e.series[0].renderItem=this.renderRect,e.series[1].renderItem=this.renderRect,e.series[2].renderItem=this.renderRect,e.series[3].renderItem=this.renderRect)),i.setOption(e,e.notMerge))},xAxisFunc:function(e,t){return(0,r.getTimestampFiveTime)(e/1e3,3,0)},tooltipFunc:function(e){var t=e.value[1].substring(11,16),a=e.value[2].substring(11,16);return"".concat(e.marker).concat(e.seriesName,":").concat(t," - ").concat(a)},renderRect:function(e,t){var a=t.value(0),i=t.coord([t.value(1),a]),r=t.coord([t.value(2),a]),n=300,o=echarts.graphic.clipRectByRect({x:i[0],y:i[1]-n/2,width:r[0]-i[0],height:n},{x:e.coordSys.x,y:e.coordSys.y,width:e.coordSys.width,height:e.coordSys.height});return o&&{type:"rect",transition:["shape"],shape:o,style:t.style()}},onClick:function(e,t){t.callMethod("onViewClick",{test:"test"})}}};t.default=n},a25a:function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{wxsProps:{"change:prop":"option"},staticClass:"echarts",attrs:{prop:e.option,"change:prop":e.echarts.updateEcharts,id:e.id}})],1)},n=[]},ae8a:function(e,t,a){var i=a("75ec");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=a("4f06").default;r("678dcb64",i,!0,{sourceMap:!1,shadowMode:!1})},c01e2:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".content[data-v-60e539b2]{display:flex;flex-direction:column;align-items:center;justify-content:center}.echarts[data-v-60e539b2]{width:100%;height:100%}",""]),e.exports=t},c533:function(e,t,a){"use strict";a.r(t);var i=a("888c"),r=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=r.a},d25d:function(e,t,a){"use strict";var i=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.LampApi=void 0;var r=i(a("d4ec")),n=i(a("bee2")),o=i(a("262e")),s=i(a("2caf")),c=a("3909"),u=function(e){(0,o.default)(a,e);var t=(0,s.default)(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,n.default)(a,[{key:"getDeviceRealStateList",value:function(e,t){var a="realUserWork/getDeviceRealStateList.action";this.commonAjax(e,a,1,t)}},{key:"getDeviceHistoryReportByTime",value:function(e,t){var a="realUserWork/getDeviceHistoryReportByTime.action";this.commonAjax(e,a,1,t)}},{key:"getExceptionRecord",value:function(e,t){var a="deviceExceptionalRecord/getExceptionRecord.action";this.commonAjax(e,a,1,t)}},{key:"listAllExceptionCommon",value:function(e,t){var a="exceptionalCommon/listAllExceptionCommon.action";this.get(e,a,t)}},{key:"submitException",value:function(e,t){var a="deviceExceptionalRecord/submitException.action";this.commonAjax(e,a,1,t)}},{key:"deviceGanttChart",value:function(e,t,a,i){var r="?current=1&size=1&startTime="+t+"&endTime="+a,n="webReportStatistics/deviceGanttChart.action"+r;this.commonAjax(e,n,3,i)}},{key:"deviceAndonGanttChart",value:function(e,t,a,i){var r="?current=1&size=1&startTime="+t+"&endTime="+a,n="existFunctionUpdate/getDeviceStateReportStatistics.action"+r;this.commonAjax(e,n,3,i)}},{key:"pageDeviceHourProduction",value:function(e,t){var a="userWorkRecord/pageDeviceHourProduction.action";this.commonAjax(e,a,1,t)}},{key:"listDeviceOee",value:function(e,t){var a="userWorkRecord/listDeviceOee.action";this.commonAjax(e,a,1,t)}},{key:"listDetailDeviceOee",value:function(e,t){var a="userWorkRecord/listDetailDeviceOee.action";this.commonAjax(e,a,1,t)}},{key:"getExceptionStatisticsData",value:function(e,t){var a="deviceExceptionalRecord/getExceptionStatisticsData.action";this.commonAjax(e,a,1,t)}},{key:"getListGroupAndProductionLine",value:function(e,t){var a="deviceGroup/getListGroupAndProductionLine.action";this.commonAjax(e,a,1,t)}},{key:"startWork",value:function(e,t){var a="realUserWork/startWork.action";this.get(e,a,t)}},{key:"startWorkWithInfo",value:function(e,t){var a="realUserWork/startWorkWithInfo.action";this.commonAjax(e,a,1,t)}},{key:"stopWork",value:function(e,t){var a="realUserWork/stopWork.action";this.get(e,a,t)}},{key:"getDeviceWorkState",value:function(e,t){var a="realUserWork/getDeviceWorkState.action";this.get(e,a,t)}},{key:"getWorkDeviceOfUser",value:function(e,t){var a="realUserWork/getWorkDeviceOfUser.action";this.get(e,a,t)}},{key:"getPageByDevice",value:function(e,t,a,i){var r="deviceLive/getPageByDevice.action?current="+t+"&size="+a;this.commonAjax(e,r,1,i)}}]),a}(c.Request);t.LampApi=u},dd8a:function(e,t,a){"use strict";var i=a("6254"),r=a.n(i);r.a},e12d:function(e,t,a){"use strict";var i=a("0bf1"),r=a.n(i);r.a},e5b4:function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{wxsProps:{"change:prop":"option"},staticClass:"echarts",attrs:{prop:e.option,"change:prop":e.echarts.updateEcharts,id:e.id}})],1)},n=[]},e9ef:function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("group-selet",{on:{changeGroup:function(t){arguments[0]=t=e.$handleEvent(t),e.changeGroup.apply(void 0,arguments)}}}),a("v-uni-view",{staticStyle:{padding:"20rpx 0rpx"}},[a("top-time",{attrs:{startDate:e.chooseStartTime,endDate:e.chooseEndTime},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectTime.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"devView"},[!0===e.loading?a("v-uni-view",{staticClass:"echartsView"},[a("v-uni-view",{staticClass:"itemEcharts"},[a("v-uni-view",{staticClass:"echartsTitle"},[e._v("今天 OEE")]),a("oeeBar",{ref:"echarts1",staticClass:"echartsClass",attrs:{echartData:e.deviceOee,id:"echars1"},on:{clikDevice:function(t){arguments[0]=t=e.$handleEvent(t),e.clikDevice.apply(void 0,arguments)}}})],1),e.showDevice?a("v-uni-view",{staticClass:"itemEcharts"},[a("v-uni-view",{staticClass:"echartsTitle"},[e._v(e._s(e.currentDevice)+" OEE")]),a("oeeBar2",{ref:"echarts2",staticClass:"echartsClass",attrs:{echartData:e.detailDeviceOee,id:"echars2"}})],1):e._e()],1):e._e(),!1===e.loading?a("v-uni-view",{staticClass:"loading"},[e._v("正在加载中...")]):e._e()],1),a("time-picker",{ref:"timeSelectRef",attrs:{startEndDate:e.timeData,timeType:e.timeType},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.confirmWay.apply(void 0,arguments)}}})],1)},n=[]},eca9:function(e,t,a){"use strict";a.r(t);var i=a("7f29"),r=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=r.a},ee51:function(e,t,a){"use strict";a.r(t);var i=a("8818"),r=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=r.a},f147:function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{wxsProps:{"change:prop":"option"},staticClass:"echarts",attrs:{prop:e.option,"change:prop":e.echarts.updateEcharts,id:"echarts"},on:{click:function(t){t=e.$handleWxsEvent(t),e.echarts.onClick(t,e.$getComponentDescriptor())}}})],1)},n=[]},f1fe:function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"uni-form-item uni-column"},[a("v-uni-picker",{staticClass:"unipicker",attrs:{value:e.index,range:e.groupArray,"range-key":"name"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.groupArrayType.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"unipickerText"},[e._v("---  当前分组："+e._s(e.groupArray[e.index].name)+"  ---")])],1)],1)},n=[]},fccf:function(e,t,a){"use strict";a.r(t);var i=a("e5b4"),r=a("c533");for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);var o=a("ee51");for(var n in o)"default"!==n&&function(e){a.d(t,e,(function(){return o[e]}))}(n);a("4d05");var s=a("f0c5");r["default"].__module="echarts";var c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"45c9be5a",null,!1,i["a"],r["default"]);t["default"]=c.exports}}]);