(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-intlligentLamp-offWork-offWork"],{"1ae9":function(t,e,o){"use strict";o.r(e);var i=o("5c8f"),n=o.n(i);for(var c in i)"default"!==c&&function(t){o.d(e,t,(function(){return i[t]}))}(c);e["default"]=n.a},"288c":function(t,e,o){"use strict";o.d(e,"b",(function(){return n})),o.d(e,"c",(function(){return c})),o.d(e,"a",(function(){return i}));var i={mescrollUni:o("6af6").default},n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",[o("mescroll-uni",{ref:"mescrollRef",attrs:{safearea:!0,top:t.topH,bottom:t.bottomH,down:t.downOption,up:t.upOption},on:{init:function(e){arguments[0]=e=t.$handleEvent(e),t.mescrollInit.apply(void 0,arguments)},down:function(e){arguments[0]=e=t.$handleEvent(e),t.downCallback.apply(void 0,arguments)},up:function(e){arguments[0]=e=t.$handleEvent(e),t.upCallback.apply(void 0,arguments)}}},t._l(t.devList,(function(e,i){return o("v-uni-view",{key:i,staticClass:"stopDevView"},[o("v-uni-view",{staticClass:"devName"},[t._v(t._s(e.deviceName))]),o("v-uni-view",{staticClass:"devBtn",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.workStop(e.deviceCode)}}},[t._v("下机")])],1)})),1),o("v-uni-view",{staticClass:"btnView",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.workStop("")}}},[t._v("一键下机")])],1)},c=[]},"5c8f":function(t,e,o){"use strict";var i=o("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;i(o("a8c5"));var n=i(o("b7a2")),c=i(o("60cc")),r=o("d25d"),a=new r.LampApi,s={mixins:[n.default,c.default],data:function(){return{devList:[],bottomH:140,topH:40,downOption:{auto:!1},upOption:{}}},onShow:function(){var t=uni.getSystemInfoSync();this.topH=t.statusBarHeight,this.upCallback()},methods:{upCallback:function(t){var e=this;a.getWorkDeviceOfUser({},(function(t){"0000"===t.code?(e.mescroll.endBySize(t.rows.length,t.total),e.devList=t.rows):e.mescroll.endErr()}))},workStop:function(t){var e=this,o={};o.deviceCode=""!==t?t:"",a.stopWork(o,(function(t){"0000"===t.code?uni.showToast({title:"下机成功",icon:"none",duration:2e3}):uni.showToast({title:t.rows,icon:"none",duration:2e3}),e.upCallback()}))}}};e.default=s},"60cc":function(t,e,o){"use strict";o("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{i:Number,index:{type:Number,default:function(){return 0}}},data:function(){return{downOption:{auto:!1},upOption:{auto:!1},isInit:!1}},watch:{index:function(t){this.i!==t||this.isInit||(this.isInit=!0,this.mescroll&&this.mescroll.triggerDownScroll())}},methods:{mescrollInitByRef:function(){if(!this.mescroll||!this.mescroll.resetUpScroll){var t=this.$refs.mescrollRef||this.$refs["mescrollRef"+this.i];t&&(this.mescroll=t.mescroll)}},mescrollInit:function(t){this.mescroll=t,this.mescrollInitByRef&&this.mescrollInitByRef(),this.i===this.index&&(this.isInit=!0,this.mescroll.triggerDownScroll())}}},n=i;e.default=n},8481:function(t,e,o){"use strict";o.r(e);var i=o("288c"),n=o("1ae9");for(var c in n)"default"!==c&&function(t){o.d(e,t,(function(){return n[t]}))}(c);o("f8d8");var r,a=o("f0c5"),s=Object(a["a"])(n["default"],i["b"],i["c"],!1,null,"697cb734",null,!1,i["a"],r);e["default"]=s.exports},8600:function(t,e,o){var i=o("24fb");e=i(!1),e.push([t.i,"*[data-v-697cb734]{box-sizing:border-box}.stopDevView[data-v-697cb734]{background-color:#fff;margin:%?20?%;width:calc(100% - %?40?%);border-radius:%?10?%}.stopDevView .devName[data-v-697cb734]{padding:%?20?%;width:calc(100% - %?120?%);display:inline-block;font-size:%?30?%}.stopDevView .devBtn[data-v-697cb734]{padding:%?20?%;width:%?120?%;display:inline-block;background-color:#000;color:#fff;text-align:center}.btnView[data-v-697cb734]{background-color:#000;color:#fff;height:%?75?%;margin:%?30?%;line-height:%?75?%;border-radius:%?80?%;text-align:center;font-size:%?35?%;position:fixed;bottom:%?10?%;width:calc(100vw - %?60?%)}",""]),t.exports=e},a8c5:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){return{use:!0,auto:!0,native:!1,textInOffset:t.$t("下拉刷新"),textOutOffset:t.$t("释放更新"),textLoading:t.$t("加载中...."),textSuccess:t.$t("加载成功"),textErr:t.$t("加载失败")}},n=function(t){return{auto:!1,noMoreSize:5,empty:{icon:"/static/images/common/no_content.png",tip:t.$t("~暂无数据哦 ~")}}},c={getDownOption:i,getUpOption:n};e.default=c},b7a2:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{mescroll:null}},onPullDownRefresh:function(){this.mescroll&&this.mescroll.onPullDownRefresh()},onPageScroll:function(t){this.mescroll&&this.mescroll.onPageScroll(t)},onReachBottom:function(){this.mescroll&&this.mescroll.onReachBottom()},methods:{mescrollInit:function(t){this.mescroll=t,this.mescrollInitByRef()},mescrollInitByRef:function(){if(!this.mescroll||!this.mescroll.resetUpScroll){var t=this.$refs.mescrollRef;t&&(this.mescroll=t.mescroll)}},downCallback:function(){var t=this;this.mescroll.optUp.use?this.mescroll.resetUpScroll():setTimeout((function(){t.mescroll.endSuccess()}),500)},upCallback:function(){var t=this;setTimeout((function(){t.mescroll.endErr()}),500)}},mounted:function(){this.mescrollInitByRef()}},n=i;e.default=n},cb14:function(t,e,o){var i=o("8600");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=o("4f06").default;n("23e34d48",i,!0,{sourceMap:!1,shadowMode:!1})},d25d:function(t,e,o){"use strict";var i=o("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.LampApi=void 0;var n=i(o("d4ec")),c=i(o("bee2")),r=i(o("262e")),a=i(o("2caf")),s=o("3909"),l=function(t){(0,r.default)(o,t);var e=(0,a.default)(o);function o(){return(0,n.default)(this,o),e.apply(this,arguments)}return(0,c.default)(o,[{key:"getDeviceRealStateList",value:function(t,e){var o="realUserWork/getDeviceRealStateList.action";this.commonAjax(t,o,1,e)}},{key:"getDeviceHistoryReportByTime",value:function(t,e){var o="realUserWork/getDeviceHistoryReportByTime.action";this.commonAjax(t,o,1,e)}},{key:"getExceptionRecord",value:function(t,e){var o="deviceExceptionalRecord/getExceptionRecord.action";this.commonAjax(t,o,1,e)}},{key:"listAllExceptionCommon",value:function(t,e){var o="exceptionalCommon/listAllExceptionCommon.action";this.get(t,o,e)}},{key:"submitException",value:function(t,e){var o="deviceExceptionalRecord/submitException.action";this.commonAjax(t,o,1,e)}},{key:"deviceGanttChart",value:function(t,e,o,i){var n="?current=1&size=1&startTime="+e+"&endTime="+o,c="webReportStatistics/deviceGanttChart.action"+n;this.commonAjax(t,c,3,i)}},{key:"deviceAndonGanttChart",value:function(t,e,o,i){var n="?current=1&size=1&startTime="+e+"&endTime="+o,c="existFunctionUpdate/getDeviceStateReportStatistics.action"+n;this.commonAjax(t,c,3,i)}},{key:"pageDeviceHourProduction",value:function(t,e){var o="userWorkRecord/pageDeviceHourProduction.action";this.commonAjax(t,o,1,e)}},{key:"listDeviceOee",value:function(t,e){var o="userWorkRecord/listDeviceOee.action";this.commonAjax(t,o,1,e)}},{key:"listDetailDeviceOee",value:function(t,e){var o="userWorkRecord/listDetailDeviceOee.action";this.commonAjax(t,o,1,e)}},{key:"getExceptionStatisticsData",value:function(t,e){var o="deviceExceptionalRecord/getExceptionStatisticsData.action";this.commonAjax(t,o,1,e)}},{key:"getListGroupAndProductionLine",value:function(t,e){var o="deviceGroup/getListGroupAndProductionLine.action";this.commonAjax(t,o,1,e)}},{key:"startWork",value:function(t,e){var o="realUserWork/startWork.action";this.get(t,o,e)}},{key:"startWorkWithInfo",value:function(t,e){var o="realUserWork/startWorkWithInfo.action";this.commonAjax(t,o,1,e)}},{key:"stopWork",value:function(t,e){var o="realUserWork/stopWork.action";this.get(t,o,e)}},{key:"getDeviceWorkState",value:function(t,e){var o="realUserWork/getDeviceWorkState.action";this.get(t,o,e)}},{key:"getWorkDeviceOfUser",value:function(t,e){var o="realUserWork/getWorkDeviceOfUser.action";this.get(t,o,e)}},{key:"getPageByDevice",value:function(t,e,o,i){var n="deviceLive/getPageByDevice.action?current="+e+"&size="+o;this.commonAjax(t,n,1,i)}}]),o}(s.Request);e.LampApi=l},f8d8:function(t,e,o){"use strict";var i=o("cb14"),n=o.n(i);n.a}}]);