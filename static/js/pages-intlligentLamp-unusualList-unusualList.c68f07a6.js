(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-intlligentLamp-unusualList-unusualList"],{"22d2":function(t,e,n){"use strict";n.r(e);var i=n("5431"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},3570:function(t,e,n){var i=n("3f1b");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("37a64ece",i,!0,{sourceMap:!1,shadowMode:!1})},"3f1b":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,"*[data-v-8adf2e7a]{box-sizing:border-box}.titleHead[data-v-8adf2e7a]{margin:%?20?%}.btnView[data-v-8adf2e7a]{background-color:#000;color:#fff;height:%?75?%;margin:%?30?%;line-height:%?75?%;border-radius:%?80?%;text-align:center;font-size:%?35?%}.runWarn[data-v-8adf2e7a]{height:calc(100vh - %?100?%);background-color:#fff;margin:%?20?%;border-radius:%?10?%;padding:%?10?%}.runWarn .runWarnView[data-v-8adf2e7a]{margin:%?30?% %?40?%}.runWarn .runWarnView .runWarnText.free[data-v-8adf2e7a]{color:#dca709}.runWarn .runWarnView .runWarnText.noline[data-v-8adf2e7a]{color:#999}.runWarn .runWarnView .runWarnText.warn[data-v-8adf2e7a]{color:#ff5722}.runWarn .runWarnView .runWarnText[data-v-8adf2e7a]:nth-child(1){font-size:%?25?%;margin-right:%?20?%}.runWarn .runWarnView .runWarnText[data-v-8adf2e7a]:nth-child(2){color:#999;font-size:%?25?%;letter-spacing:%?3?%;margin-right:%?100?%}.runWarn .runWarnView .runWarnText[data-v-8adf2e7a]:nth-child(3){color:#999;font-size:%?25?%;letter-spacing:%?3?%}.runWarn .runWarnView .runWarnTextRed[data-v-8adf2e7a]{color:#ca1103;font-size:%?25?%;letter-spacing:%?3?%}.runWarn .runWarnView .runWarnTextx[data-v-8adf2e7a]{color:#999;font-size:%?25?%;letter-spacing:%?3?%}.runWarn .runWarnTitle[data-v-8adf2e7a]{width:100%;padding:%?10?% %?25?% %?10?% %?25?%;text-align:right}.runWarn .runWarnTitle .runWarnTextx[data-v-8adf2e7a]{font-size:%?28?%;color:#999;width:100%}[data-v-8adf2e7a] .uni-scroll-view,\n.uni-scroll-view-content[data-v-8adf2e7a]{height:96%!important}",""]),t.exports=e},"52bb":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={mescrollUni:n("6af6").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"devView"},[n("v-uni-view",{staticClass:"titleHead"},[t._v("运行异常")]),n("v-uni-view",{staticClass:"runWarn"},[n("mescroll-uni",{ref:"mescrollRef",attrs:{safearea:!0,top:t.topH,down:t.downOption,up:t.upOption},on:{init:function(e){arguments[0]=e=t.$handleEvent(e),t.mescrollInit.apply(void 0,arguments)},down:function(e){arguments[0]=e=t.$handleEvent(e),t.downCallback.apply(void 0,arguments)},up:function(e){arguments[0]=e=t.$handleEvent(e),t.upCallback.apply(void 0,arguments)}}},t._l(t.warnList,(function(e,i){return n("v-uni-view",{key:i,staticClass:"runWarnView",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.toInfo(e)}}},[2==e.state?n("v-uni-text",{staticClass:"runWarnText free"},[t._v(t._s(t.stateFunc(e.state)))]):t._e(),3==e.state?n("v-uni-text",{staticClass:"runWarnText noline"},[t._v(t._s(t.stateFunc(e.state)))]):t._e(),4==e.state?n("v-uni-text",{staticClass:"runWarnText warn"},[t._v(t._s(t.stateFunc(e.state)))]):t._e(),n("v-uni-text",{staticClass:"runWarnText"},[t._v(t._s(e.exceptionTime))]),e.exceptionId?n("v-uni-text",{staticClass:"runWarnText"},[t._v(t._s(e.exceptionContent))]):t._e(),e.exceptionId?t._e():n("v-uni-text",{staticClass:"runWarnTextRed"},[t._v("原因待填写")]),n("v-uni-text",{staticClass:"runWarnTextx"},[t._v(">")])],1)})),1)],1)],1)],1)},o=[]},5431:function(t,e,n){"use strict";var i=n("4ea4");n("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;i(n("a8c5"));var a=i(n("b7a2")),o=i(n("60cc")),r=n("d25d"),c=new r.LampApi,s={mixins:[a.default,o.default],data:function(){return{warnList:[],topH:80,downOption:{auto:!1},upOption:{},page:0,jump:!1}},onShow:function(){this.jump&&(this.jump=!1,this.getExceptionRecordRefresh())},onLoad:function(){this.getExceptionRecord({num:1})},methods:{stateFunc:function(t){return 2===t?"空闲":3===t?"离线":4===t?"告警":void 0},runWarnTextFunc:function(){return"runWarnText"},upCallback:function(t){this.getExceptionRecord(t)},getExceptionRecord:function(t){var e=this;this.page=t.num;var n={deviceCode:this.$store.state.equiptionInfo.deviceCode,current:t.num,size:20};c.getExceptionRecord(n,(function(n){"0000"===n.code?(e.mescroll.endBySize(n.rows.length,n.total),1==t.num&&(e.warnList=[]),console.log(n.rows),e.warnList=e.warnList.concat(n.rows)):e.mescroll.endErr()}))},getExceptionRecordRefresh:function(){var t=this,e={deviceCode:this.$store.state.equiptionInfo.deviceCode,current:1,size:20*this.page};c.getExceptionRecord(e,(function(e){"0000"===e.code&&(t.warnList=e.rows)}))},toInfo:function(t){this.$store.state.unusualInfo=t,uni.navigateTo({url:"/pages/intlligentLamp/unusualList/unusalInfo"})}}};e.default=s},"58fc":function(t,e,n){"use strict";var i=n("3570"),a=n.n(i);a.a},"60cc":function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{i:Number,index:{type:Number,default:function(){return 0}}},data:function(){return{downOption:{auto:!1},upOption:{auto:!1},isInit:!1}},watch:{index:function(t){this.i!==t||this.isInit||(this.isInit=!0,this.mescroll&&this.mescroll.triggerDownScroll())}},methods:{mescrollInitByRef:function(){if(!this.mescroll||!this.mescroll.resetUpScroll){var t=this.$refs.mescrollRef||this.$refs["mescrollRef"+this.i];t&&(this.mescroll=t.mescroll)}},mescrollInit:function(t){this.mescroll=t,this.mescrollInitByRef&&this.mescrollInitByRef(),this.i===this.index&&(this.isInit=!0,this.mescroll.triggerDownScroll())}}},a=i;e.default=a},a8c5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){return{use:!0,auto:!0,native:!1,textInOffset:t.$t("下拉刷新"),textOutOffset:t.$t("释放更新"),textLoading:t.$t("加载中...."),textSuccess:t.$t("加载成功"),textErr:t.$t("加载失败")}},a=function(t){return{auto:!1,noMoreSize:5,empty:{icon:"/static/images/common/no_content.png",tip:t.$t("~暂无数据哦 ~")}}},o={getDownOption:i,getUpOption:a};e.default=o},b1d4:function(t,e,n){"use strict";n.r(e);var i=n("52bb"),a=n("22d2");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("58fc");var r,c=n("f0c5"),s=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"8adf2e7a",null,!1,i["a"],r);e["default"]=s.exports},b7a2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{mescroll:null}},onPullDownRefresh:function(){this.mescroll&&this.mescroll.onPullDownRefresh()},onPageScroll:function(t){this.mescroll&&this.mescroll.onPageScroll(t)},onReachBottom:function(){this.mescroll&&this.mescroll.onReachBottom()},methods:{mescrollInit:function(t){this.mescroll=t,this.mescrollInitByRef()},mescrollInitByRef:function(){if(!this.mescroll||!this.mescroll.resetUpScroll){var t=this.$refs.mescrollRef;t&&(this.mescroll=t.mescroll)}},downCallback:function(){var t=this;this.mescroll.optUp.use?this.mescroll.resetUpScroll():setTimeout((function(){t.mescroll.endSuccess()}),500)},upCallback:function(){var t=this;setTimeout((function(){t.mescroll.endErr()}),500)}},mounted:function(){this.mescrollInitByRef()}},a=i;e.default=a},d25d:function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.LampApi=void 0;var a=i(n("d4ec")),o=i(n("bee2")),r=i(n("262e")),c=i(n("2caf")),s=n("3909"),u=function(t){(0,r.default)(n,t);var e=(0,c.default)(n);function n(){return(0,a.default)(this,n),e.apply(this,arguments)}return(0,o.default)(n,[{key:"getDeviceRealStateList",value:function(t,e){var n="realUserWork/getDeviceRealStateList.action";this.commonAjax(t,n,1,e)}},{key:"getDeviceHistoryReportByTime",value:function(t,e){var n="realUserWork/getDeviceHistoryReportByTime.action";this.commonAjax(t,n,1,e)}},{key:"getExceptionRecord",value:function(t,e){var n="deviceExceptionalRecord/getExceptionRecord.action";this.commonAjax(t,n,1,e)}},{key:"listAllExceptionCommon",value:function(t,e){var n="exceptionalCommon/listAllExceptionCommon.action";this.get(t,n,e)}},{key:"submitException",value:function(t,e){var n="deviceExceptionalRecord/submitException.action";this.commonAjax(t,n,1,e)}},{key:"deviceGanttChart",value:function(t,e,n,i){var a="?current=1&size=1&startTime="+e+"&endTime="+n,o="webReportStatistics/deviceGanttChart.action"+a;this.commonAjax(t,o,3,i)}},{key:"deviceAndonGanttChart",value:function(t,e,n,i){var a="?current=1&size=1&startTime="+e+"&endTime="+n,o="existFunctionUpdate/getDeviceStateReportStatistics.action"+a;this.commonAjax(t,o,3,i)}},{key:"pageDeviceHourProduction",value:function(t,e){var n="userWorkRecord/pageDeviceHourProduction.action";this.commonAjax(t,n,1,e)}},{key:"listDeviceOee",value:function(t,e){var n="userWorkRecord/listDeviceOee.action";this.commonAjax(t,n,1,e)}},{key:"listDetailDeviceOee",value:function(t,e){var n="userWorkRecord/listDetailDeviceOee.action";this.commonAjax(t,n,1,e)}},{key:"getExceptionStatisticsData",value:function(t,e){var n="deviceExceptionalRecord/getExceptionStatisticsData.action";this.commonAjax(t,n,1,e)}},{key:"getListGroupAndProductionLine",value:function(t,e){var n="deviceGroup/getListGroupAndProductionLine.action";this.commonAjax(t,n,1,e)}},{key:"startWork",value:function(t,e){var n="realUserWork/startWork.action";this.get(t,n,e)}},{key:"startWorkWithInfo",value:function(t,e){var n="realUserWork/startWorkWithInfo.action";this.commonAjax(t,n,1,e)}},{key:"stopWork",value:function(t,e){var n="realUserWork/stopWork.action";this.get(t,n,e)}},{key:"getDeviceWorkState",value:function(t,e){var n="realUserWork/getDeviceWorkState.action";this.get(t,n,e)}},{key:"getWorkDeviceOfUser",value:function(t,e){var n="realUserWork/getWorkDeviceOfUser.action";this.get(t,n,e)}},{key:"getPageByDevice",value:function(t,e,n,i){var a="deviceLive/getPageByDevice.action?current="+e+"&size="+n;this.commonAjax(t,a,1,i)}}]),n}(s.Request);e.LampApi=u}}]);